<html>
	<head>
		<title>Consulta CEP</title>
	</head>
	<body>
		<div id="loading" style="display:none;">
			<img src="/img/loading.gif" style="width: 100px;">
		</div>
		CEP: <input type="text" id="cep" onblur="consulta()"/>
		<br>
		Rua: <input type="text" id="rua" disabled/>
		<br>
		Bairro: <input type="text" id="bairro" disabled />
		<br>
		Cidade: <input type="text" id="cidade" disabled />
		<br>
		UF: <input type="text" id="uf" disabled />
	</body>
	<script   src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	<script>

		function consulta(){
			$("#loading").show();
			var cep = document.getElementById('cep').value;

			document.getElementById('rua').value = '';
			document.getElementById('bairro').value = '';
			document.getElementById('cidade').value = '';
			document.getElementById('uf').value = '';

			$.get('/api/cep/' + cep, function( data ) {
			  
				document.getElementById('rua').value = data.logradouro;
				document.getElementById('bairro').value = data.bairro;
				document.getElementById('cidade').value = data.localidade;
				document.getElementById('uf').value = data.uf;

				$("#loading").hide();
			});
		}
	</script>
</html>